{% extends 'base.html.twig' %}

{% block title %}Ingresar | HUGO Sushi{% endblock %}

{% block body %}
<section class="sushi-section section-dark" style="padding: 8rem 0 6rem; display: flex; justify-content: center; align-items: center; min-height: 80vh;">
    <div class="sign-in-wrapper" style="background: rgba(255,255,255,0.05); border-radius: var(--border-radius); padding: 3rem; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); max-width: 420px; width: 100%;">
        
        <h2 style="font-family: var(--font-heading); color: var(--sushi-white); text-align: center; margin-bottom: 2rem;">Iniciar Sesión</h2>

        {% if error %}
            <div class="form-error" style="background: rgba(255,60,60,0.15); border: 1px solid rgba(255,60,60,0.4); color: #ff6b6b; padding: 0.7rem; border-radius: 8px; margin-bottom: 1.5rem; font-size: 0.9rem;">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        <form action="{{ path('app_sign_in') }}" method="post" class="contact-form" style="display: grid; gap: 1.8rem;">
            <div class="form-group">
                <label for="username" class="form-label"><i class="fas fa-envelope" style="margin-right:0.5rem; color: var(--sushi-red);"></i>Email</label>
                <input type="text" id="username" name="_username" value="{{ last_username|default('') }}" class="form-input" placeholder="tu@email.com" required>
            </div>

            <div class="form-group">
                <label for="password" class="form-label"><i class="fas fa-lock" style="margin-right:0.5rem; color: var(--sushi-red);"></i>Contraseña</label>
                <input type="password" id="password" name="_password" class="form-input" placeholder="••••••••" required>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <button type="submit" class="sushi-btn sushi-btn-primary" style="width: 100%; justify-content: center; padding: 1rem; font-size: 1.1rem;">
                <i class="fas fa-sign-in-alt" style="margin-right:0.5rem;"></i> Ingresar
            </button>
        </form>

        <p style="text-align:center; color: var(--sushi-gray-light); margin-top: 1.5rem;">
            ¿No tenés cuenta? <a href="{{ path('app_register') }}" style="color: var(--sushi-red); font-weight: 600; text-decoration: none;">Registrate</a>

    </div>
</section>

<style>
    .form-label {
        display: block;
        font-weight: 600;
        color: var(--sushi-white);
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
        font-family: var(--font-body);
    }

    .form-input {
        width: 100%;
        padding: 1rem 1.2rem;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        font-family: var(--font-body);
        font-size: 1rem;
        background: rgba(255,255,255,0.1);
        color: var(--sushi-white);
        transition: all 0.3s ease;
    }

    .form-input:focus {
        outline: none;
        border-color: var(--sushi-red);
        background: rgba(255,255,255,0.15);
        box-shadow: 0 0 0 3px rgba(220,38,38,0.2);
    }

    .form-input::placeholder {
        color: rgba(255,255,255,0.5);
    }

    .form-error {
        text-align: left;
    }

    @media (max-width: 768px) {
        .sign-in-wrapper {
            padding: 2rem;
        }
    }
</style>
{% endblock %}
